<section class="py-12 bg-gray-50 min-h-screen">
  <div class="container mx-auto px-4 max-w-5xl">

    <button class="hover:text-black text-gray-700 flex gap-1 items-center mb-3 cursor-pointer" (click)="goBack()"><i
        class="fa-solid fa-angles-left"></i>
      <p>Back </p>
    </button>
    <h1 class="text-3xl lg:text-4xl font-bold text-center text-gray-800 mb-10">
      Your Cart
    </h1>
  

    @if (fullCart().length === 0) {
      <div class="bg-white rounded-2xl p-12 text-center shadow-lg">
        <i class="fas fa-shopping-cart text-6xl text-gray-300 mb-6"></i>
        <h3 class="text-2xl font-bold text-gray-800 mb-4">Your cart is empty</h3>
        <p class="text-gray-600 mb-8">Explore our products and add what you love</p>

        <button
          [routerLink]="['/home']"
          class="bg-[#a5b2d2] hover:bg-[#8a9bd6] text-white px-8 py-3 rounded-lg font-semibold transition-colors"
        >
          Shop Now
        </button>
      </div>
    }

    @if (fullCart().length > 0) {
      <div class="space-y-6">

        @for (item of fullCart(); track item.id) {
          <div class="bg-white shadow-md rounded-xl p-6 flex items-center justify-between">

            <div class="flex items-center gap-4 flex-1">
              <div class="w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex items-center justify-center">
                @if (getProductImage(item)) {
                  <img [src]="getProductImage(item)" [alt]="item.name" class="w-full h-full object-cover" (error)="$event.target.src='assets/images/placeholder.png'" />
                } @else {
                  <i class="fas fa-pills text-gray-600 text-xl"></i>
                }
              </div>

              <div>
                <h3 class="text-lg font-semibold text-gray-800">{{ item.name }}</h3>
                <p class="text-sm text-gray-600">{{ formatPrice(item.price) }}</p>
              </div>
            </div>

          
            <div class="flex items-center gap-8 shrink-0">

              <div class="flex items-center gap-3">
                <button
                  (click)="decrease(item.id, item.quantity)"
                  class="w-8 h-8 text-lg bg-gray-200 hover:bg-gray-300 rounded-full font-bold"
                >
                  -
                </button>

                <span class="font-semibold text-lg w-6 text-center">{{ item.quantity }}</span>

                <button
                  (click)="increase(item.id, item.quantity)"
                  class="w-8 h-8 text-lg bg-gray-200 hover:bg-gray-300 rounded-full font-bold"
                >
                  +
                </button>
              </div>

              <button
                (click)="remove(item.id)"
                class="text-red-500 hover:text-red-700 text-lg"
              >
                <i class="fas fa-trash"></i>
              </button>

            </div>

          </div>
        }

      </div>

      <div class="bg-white shadow-lg rounded-2xl p-8 mt-10">
        <h2 class="text-xl font-bold text-gray-800 mb-6">Order Summary</h2>

        <div class="flex justify-between mb-3">
          <span class="text-gray-600">Subtotal</span>
          <span class="font-semibold">{{ formatPrice(getSubtotal()) }}</span>
        </div>

        <div class="flex justify-between mb-3">
          <span class="text-gray-600">Shipping</span>
          <span class="font-semibold">{{ formatPrice(getShipping()) }}</span>
        </div>

        <div class="flex justify-between mt-4 pt-4 border-t">
          <span class="text-gray-800 font-bold text-lg">Total</span>
          <span class="font-bold text-lg text-[#a5b2d2]">{{ formatPrice(getTotal()) }}</span>
        </div>

        <button
          [routerLink]="['/checkout']"
          class="w-full mt-6 bg-[#a5b2d2] hover:bg-[#8a9bd6] text-white py-3 rounded-lg font-semibold transition-colors"
        >
          Checkout
        </button>

        <button
          (click)="clearCart()"
          class="block w-full mt-4 text-red-500 hover:text-red-700 font-semibold"
        >
          Clear Cart
        </button>
      </div>
    }

  </div>
</section>
